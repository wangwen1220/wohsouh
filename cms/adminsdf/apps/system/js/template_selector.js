(function(){var g=function(a,d,b){d.attr("type")=="folder"?c.open(a):c.check(b.code)},i=function(a){a.dir&&(f.trigger("setNav",[a.dir.path,a.dir.alias]),h=a.dir.path);c.dir==a.dir.path&&setTimeout(function(){$("#selector_area a.file").each(function(d,b){$(b).text()==c.file&&$(b).parents("tr").click()})},10)},h,f,e,c={dir:"",file:"",init:function(a){f=$("#navigator").navigator({dirUrl:a+"&action=dir"}).bind("cd",function(d,b){c.open(b)});e=new ct.table("#item_list",{dblclickHandler:g,jsonLoaded:i,
rowCallback:function(d,b){b.attr("type")=="folder"&&b.find("a").click(function(){c.open(d);return false})},template:'<tr id="row_{path}" type="{type}" code="{code}" right_menu_id="right_menu_{type}">\t<td class="t_l nbr"><a class="{type}" href="javascript:;">{file}</a></td>\t<td class="t_l nbr">{name}</td>\t<td class="t_l">{size}</td>\t<td class="t_c">{mtime}</td></tr>',baseUrl:a+"&action=spage"});e.load("dir="+this.dir+"&file="+this.file)},open:function(a){e.load("dir="+a)},check:function(a){if(a==
undefined){a=e.checkedRow();if(!a||a.attr("type")!="file"){ct.warn("\u8bf7\u9009\u62e9\u4e00\u4e2a\u6a21\u677f");return}a=a.attr("code")}if(parent)if(window.dialogCallback&&dialogCallback.ok)dialogCallback.ok(a);else window.getDialog&&getDialog().dialog("close")},rcheck:function(a,d,b){c.check(b.code)},cancel:function(){parent&&window.getDialog&&getDialog().dialog("close")}};window.App=c})();
