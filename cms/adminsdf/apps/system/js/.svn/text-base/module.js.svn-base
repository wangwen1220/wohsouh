var module={set:function(a){module.options=a},init:function(){var a=Array("module_left","module_right");$.each(a,function(b,d){$("#"+d).find("h3 >span>span").show();$("#"+d+" div:first-child").find("h3 >span>span:nth-child(2)").hide();$("#"+d+" div:last-child").find("h3>span>span:nth-child(1)").hide()});var c=100;$("#data_btn>li").each(function(){var b=$(this).css("z-index",c--),d=b.find(">a:first"),f=d.next();b.mouseout(function(e){e=e.relatedTarget;e!=b[0]&&b.find("*").index(e)==-1&&f.hide()});
d.mouseover(function(){f.show()})})},save:function(){$.getJSON(module.options.save_url,{module_left:$("#module_left").sortable("toArray").join("#"),module_right:$("#module_right").sortable("toArray").join("#")},function(a){a.state?module.init():ct.error(a.error)})},restore:function(){$.getJSON(module.options.restore_url,function(a){if(a.state){ct.tips("\u64cd\u4f5c\u6210\u529f\uff01");setTimeout(function(){window.location.reload()},1E3)}else ct.error(a.error)})},up:function(a){a=$(a).closest("div");
if(a.prev().is("div")){var c=a.id,b=a.prev().id;a.insertBefore(a.prev());module.save();a={};$("#"+c).effect("clip",a,500,function(){setTimeout(function(){$("#"+c+":hidden").removeAttr("style").hide().fadeIn()},100)});$("#"+b).effect("clip",a,500,function(){setTimeout(function(){$("#"+b+":hidden").removeAttr("style").hide().fadeIn()},100)})}},down:function(a){a=$(a).closest("div");if(a.next().is("div")){var c=a.id,b=a.next().id;a.insertAfter(a.next());module.save();a={};$("#"+c).effect("clip",a,500,
function(){setTimeout(function(){$("#"+c+":hidden").removeAttr("style").hide().fadeIn()},100)});$("#"+b).effect("clip",a,500,function(){setTimeout(function(){$("#"+b+":hidden").removeAttr("style").hide().fadeIn()},100)})}},del:function(a){$(a).closest("div").fadeOut("slow");setTimeout(function(){$(a).closest("div").remove();module.save()},1500)}};
$(function(){$("div.tag_span>span").mouseover(function(){$(this).siblings().removeClass("s_4").parent().parent().find("ul.txt_list").hide();var a=$(this).parent().find("span").index($(this));$(this).addClass("s_4").parent().parent().find("ul.txt_list").eq(a).show()})});
